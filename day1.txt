const API_BASE= 'http://localhost:3001'

export async function fetchFlights(){
    const res= await fetch(`${API_BASE}/flights`,{cache: 'no-store'})
    if(!res.ok) throw new Error('Failed to fetch flights')
    return res.json()
}

export async function fetchPassengers(){
    const res= await fetch(`${API_BASE}/passengers`,{cache: 'no-store'})
    if(!res.ok) throw new Error('Failed to fetch passengers')
    return res.json()
}

export async function fetchFlightByID(id){
    const res= await fetch(`${API_BASE}/flights/${id}`,{cache: 'no-store'})
    if(!res.ok) throw new Error('flight not found')
    return res.json()
}

export async function fetchPassengersByFlightID(flightId){
    const res= await fetch(`${API_BASE}/passengers?flightId=${flightId}`,{cache: 'no-store'})
    if(!res.ok) throw new Error('Failed to fetch passengers')
    return res.json()
}
