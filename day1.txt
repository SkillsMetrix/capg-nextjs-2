import PassengerCard from "../components/PassengersCard";
import { fetchPassengers } from "../lib/api";

export default async function Passengers() {
  const passengers = await fetchPassengers();
  return (
    <div>
      <p>Passengers Details</p>

      <div className="grid">
        {passengers.map((p) => (
          <PassengerCard key={p.id} passenger={p} />
        ))}
      </div>
    </div>
  );
}



-------------


'use client'

export default function PassengerCard({passenger}) {
    return (
        <div className="card">
            <div><strong>{passenger.name}</strong>
            <div className="small">Age: {passenger.age} * Flight: {passenger.flightId}</div></div>
        </div>
    )
}





-------

const API_BASE= 'http://localhost:3001'

export async function fetchFlights() {
    const res= await fetch(`${API_BASE}/flights`,{cache:'no-store'})
    if(!res.ok) throw new Error('Failed to fetch flights')
        return res.json()
    
}

export async function fetchPassengers() {
    const res= await fetch(`${API_BASE}/passengers`,{cache:'no-store'})
    if(!res.ok) throw new Error('Failed to fetch PAssengers')
        return res.json()
    
}
